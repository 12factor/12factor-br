## IV. Servicios de respaldo
### Tratar los servicios de respaldo como recursos enganchables

Un *servicio de respaldo* es cualquier recurso que la aplicación puede consumir a través de la red como parte de su funcionamiento normal. Como ejemplos podemos encontrar almacenes de datos (como [MySQL](http://dev.mysql.com/) o [CouchDB](http://couchdb.apache.org/)), sistemas de mensajería y de colas (como [RabbitMQ](http://www.rabbitmq.com/) o [Beanstalkd](http://kr.github.com/beanstalkd/)), servicios SMTP para email saliente (como [Postfix](http://www.postfix.org/)), y sistemas de cache (como [Memcached](http://memcached.org/)).

Los servicios de respaldo, como las bases de datos, se gestionan tradicionalmente por los mismos administradores de sistemas que despliegan la aplicacion en producción. Además de esos servicios gestionados localmente, las aplicaciones también pueden tener servicios proporcionados y gestionados por terceros. Ejemplos de ésto son los servicios SMTP (como [Postmark](http://postmarkapp.com/)), los servicios de recopilación de métricas (como [New Relic](http://newrelic.com/) o [Loggly](http://www.loggly.com/)), los servicios de activos binarios (como [Amazon S3](http://aws.amazon.com/s3/)), e incluso servicios de consumo accesibles mediante APIs (como [Twitter](http://dev.twitter.com/), [Google Maps](http://code.google.com/apis/maps/index.html), o [Last.fm](http://www.last.fm/api)).

**El código de una aplicación "twelve-factor" no hace distinciones entre servicios locales y de terceros.** Para la aplicación, ambos son recursos enganchados, accedidos mediante una URL u otro localizador o credencial almacenado en la [config](./config). Un [despliegue](./codebase) de una aplicación "twelve-factor" debería ser capaz de reemplazar una base de datos local MySQL por una gestionada por un tercero (como [Amazon RDS](http://aws.amazon.com/rds/)) sin ningún cambio en el código de la aplicación. Igualmente, un servidor SMTP local podría ser cambiado por un servicio de terceros (como Postmark) sin modificaciones en el código. En ambos casos, solo el manejador del recurso necesita cambiar en la configuración.

Cada servicio de respaldo distinto es un *recurso*. Por ejemplo, una base de datos MySQL es un recurso; dos bases de datos MySQL (usadas para "sharding" en la capa de aplicación) les convierte en dos recursos distintos. Una aplicación "twelve factor" trata esas bases de datos como *recursos enganchados*, lo que evidencia su bajo acoplamiento al despliegue al que se unen.

<img src="/images/attached-resources.png" class="full" alt="Un despliegue en producción vinculado a cuatro servicios de respaldo." />

Los recursos se pueden enganchar y desenganchar a voluntad. Por ejemplo, si la base de datos funciona mal debido a un problema en el hardware, el administrador de la aplicación puede cambiar a un nuevo servidor de bases de datos que haya sido restaurado de un backup reciente. La base de datos actual en producción se puede desenganchar, y enganchar la nueva base de datos -- todo ésto sin ningún cambio en el código.
